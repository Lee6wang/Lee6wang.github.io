---
title: "永磁同步直线电机（PMLSM）的数学建模：与旋转 PMSM 的异同"
date: 2026-01-23 14:00:00 +0800
categories: [Motor Control, Engineering]
tags: [PMLSM, PMSM]
math: true
---

# 电角度与转速从哪里来

## ——旋转电机与直线电机常用传感器的工程全景

> 在电机控制系统中，
> **控制算法从来不是瓶颈，测量才是。**
>
> 无论是 FOC、MPC 还是自适应控制，
> 最终都要回答一个问题：
> **“我现在到底在什么角度、什么速度？”**

---

## 一、先统一概念：我们到底在“测”什么？

在旋转电机与直线电机中，控制系统关心的核心量只有两个：

- **电角度 θₑ**
- **电角速度 ωₑ**

但传感器**从来不直接测“电角度”**，它们测的是：

| 实际测量量          | 控制中用途        |
| ------------------- | ----------------- |
| 机械角度 / 机械位置 | → 电角度          |
| 机械角速度 / 线速度 | → 电角速度        |
| 磁场变化            | → 位置 / 速度估计 |

关键差异在于👇

> **旋转电机：角度是天然周期量**
>  **直线电机：位置是无限非周期量**

这直接决定了传感器选型逻辑。

---

## 二、增量式编码器（ABZ）

![1](../assets/figure/2026-01-26/1.png)

### 2.1 编码器的输入是什么？——机械角位移

增量式编码器连接在电机转轴上，其**唯一的物理输入量**是：

> **转轴的机械角位移 $θₘ$**

编码器本身不具备任何“角度记忆”或“角度基准”，
它只能感知**转轴是否发生了位移，以及位移的相对变化**。

因此，编码器的第一性任务不是“测角度”，而是：

> **把连续的角位移，转换成可被检测的周期性变化。**

---

### 2.2 如何把连续角位移变成“可检测事件”？——刻线码盘

为实现这一点，编码器在转轴上固定一块**刻有等间距透光/不透光结构的码盘**：

- 当转轴旋转时，码盘同步旋转
- 每经过一个刻线周期，光路状态发生一次变化

于是：

- 连续角位移
   → 被转换为
- **周期性光通/光断事件**

此时，编码器已经完成了第一步抽象：

> **$θₘ$（连续） → 周期性物理事件**

刻线数量决定了**每转产生多少次事件**，即 PPR（Pulse Per Revolution）。

---

### 2.3 如何把“物理事件”变成电信号？——光电转换与整形

码盘本身不产生电信号，因此编码器内部还包含：

- 发光器件（LED）
- 光电接收器
- 放大与整形电路

工作链路是：

1. LED 提供稳定光源
2. 码盘旋转调制光通量
3. 光电接收器输出模拟电信号
4. 放大、比较、整形
5. 输出数字电平变化

至此，系统完成了第二步抽象：

> **周期性物理事件 → 数字脉冲信号**

如果只做到这一步，编码器只能输出**一路脉冲**。

---

### 2.4 为什么“一路脉冲”不够？——方向信息缺失

设想只有一路脉冲信号：

- 每出现一个脉冲，说明“转轴发生了一定角位移”
- 但**无法判断转动方向**

也就是说：

> 单通道脉冲只能表达
>  $|Δθₘ| ≠ Δθₘ$

而在电机控制中，**方向是必须的信息**。

因此，编码器必须引入一个新的信息维度。

---

### 2.5 方向信息如何引入？——正交的 A / B 两相信号

编码器在同一刻线圆周上布置**两组光电接收器**：

- 空间位置错开 **1/4 刻线周期**
- 因此输出信号在时间上错开 **90° 相位**

于是得到：

- A 相：周期脉冲
- B 相：同频率、相位滞后（或超前）90° 的脉冲

这样，系统完成了第三步抽象：

> **相对位移 + 相位先后关系 → 位移方向**

方向判断不来自软件，而来自**物理相位先后关系**：

- A 领先 B → 正转
- B 领先 A → 反转

---

### 2.6 A / B 相真正提供的是什么信息？

需要强调的是：

- A / B 相 **并不直接给角度**
- 它们提供的是：
  - 位移发生的“次数”
  - 位移发生的“方向”

因此，编码器输出的本质信息是：

> **Δθₘ 的符号化、量化表达**

角度本身，是控制系统通过**计数与累加**计算出来的。

---

### 2.7 为什么还需要 Z 相？——周期参考点缺失

到目前为止：

- A / B 相可以累积位移
- 但系统仍然不知道：
  - “现在是第几圈？”
  - “这个计数对应的是哪一圈的位置？”

这意味着：

> **系统缺少一个“机械周期参考点”**

为解决这一问题，编码器在码盘上额外设计了一条：

- **仅有一个透光窗口的 Z 环**

其特性是：

- 每机械转一圈
- 仅输出一次脉冲

于是：

- Z 相提供的是 **转动周期的绝对参考**
- 而不是分辨率

---

### 2.8 A/B/Z 三相信号在逻辑上的分工

到这里，三路信号的逻辑角色已经完全清晰：

- **A / B 相**
   → 表达相对位移与方向
- **Z 相**
   → 表达“转了一整圈”的参考事件

编码器本身仍然**不存储角度**，但它为控制系统提供了：

> **构建角度所需的全部原始信息**

---

### 2.9 从编码器信号到控制量（角度 / 转速）

在控制器中：

1. A / B 边沿 → 计数器 ±1
2. 累计计数 → 相对机械角度
3. 相邻采样周期计数差 → 转速
4. Z 相 → 计数校准 / 对齐参考

需要注意的是：

> **角度与转速不是编码器“给”的，
> 而是系统“算”的。**

---

### 2️⃣ 绝对值编码器（单圈 / 多圈）

**测量对象**

- 机械绝对角度
- 可直接得到速度（差分）

**工程特点**

- 上电即有角度
- 通信接口复杂（SSI / BiSS / EnDat）
- 成本、EMI 要求更高

👉 **典型场景**
 高端伺服、机器人关节、航空航天

---

### 3️⃣ Resolver（旋转变压器）

**测量对象**

- 正余弦角度信号

**工程特点**

- 极强抗干扰能力
- 高温、高振动环境稳定
- 需要解码芯片 / 解算算法

👉 **典型场景**
 新能源、电驱、军工、航空

---

### 4️⃣ 霍尔位置传感器（120° / 60°）

**测量对象**

- 粗略电角区间
- 换相位置

**工程特点**

- 极低成本
- 分辨率极低
- 不适合高性能 FOC

👉 **典型场景**
 BLDC、风机、水泵、家电

---

## 三、直线电机：为什么问题突然“复杂很多”？

直线电机（如 永磁同步直线电机）的本质区别只有一句话：

> **机械位置不再是周期量，但电角度依然是周期量**

电角度定义为：

θe=2πτ⋅x\theta_e = \frac{2\pi}{\tau} \cdot xθe=τ2π⋅x

其中 τ 是**极距**。

这带来三个工程后果：

1. 位置要**连续、无跳变**
2. 电角度必须**严格线性映射**
3. 不能靠“转一圈归零”

---

## 四、直线电机中常见的电角度 / 转速测量方案

### 1️⃣ 线性编码器（光栅 / 磁栅）

**测量对象**

- 直线位置 x
- 线速度 v

**工程特点**

- 精度最高（μm 级）
- 安装、对准要求极高
- 成本高、环境要求高

👉 **典型场景**
 高端直线模组、机床、半导体设备

---

### 2️⃣ 线性霍尔阵列（你之前那个方案）

**测量对象**

- 磁场分布 → 电角度

**工程特点**

- 直接感知磁极
- 可直接输出 sin / cos
- 对安装误差极其敏感

**工程风险点**

- 极距不一致 → 电角度畸变
- 霍尔一致性 → 非线性误差
- 温漂 → 长期稳定性问题

👉 **一句工程总结**

> **这是“算法能救，但结构必须先对”的方案**

---

### 3️⃣ Resolver（直线型）

**测量对象**

- 直线位置 → 正余弦信号

**工程特点**

- 极强鲁棒性
- 工程实现复杂
- 体积、成本较高

👉 **典型场景**
 高可靠直线驱动系统

---

### 4️⃣ 无传感器估算（Back-EMF / 观测器）

**测量对象**

- 电压、电流 → 估算角度 / 速度

**工程现实**

- 中高速可行
- 低速 / 启停极其困难
- 直线电机难度更高

👉 **工程结论**

> **直线电机 ≠ 旋转 PMSM 的简单迁移**

---

## 五、一个工程级对比总结表

| 电机类型 | 传感器       | 精度  | 成本  | 工程难度 | 是否推荐 |
| -------- | ------------ | ----- | ----- | -------- | -------- |
| 旋转     | 增量编码器   | ★★★★☆ | ★★    | ★★       | ✅        |
| 旋转     | Resolver     | ★★★★  | ★★★★  | ★★★★     | ✅        |
| 直线     | 光栅编码器   | ★★★★★ | ★★★★★ | ★★★★     | ✅        |
| 直线     | 线性霍尔阵列 | ★★★   | ★★    | ★★★★     | ⚠️        |
| 任意     | 无传感器     | ★★    | ★     | ★★★★★    | ⚠️        |

---

## 六、写在最后：为什么“测量”比“控制”更难

很多人学电机控制时，会沉迷于：

- dq 方程
- PI / MPC / SMC
- MATLAB 仿真

但真正拉开系统差距的，往往是：

> **你到底信不信你测到的角度？**

**控制算法会收敛，
 测量误差只会被放大。**